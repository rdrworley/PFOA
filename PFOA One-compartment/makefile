#
# makefile generated by acslXtreme Version 3.1.4.2 on Thursday, May 12, 2016 at 7:27:37 PM
#
MODEL = pfason~1.csl
MODEL_XML = pfason~1.xml
MODEL_AIL = pfason~1.ail
MODEL_SRC = pfason~1.cpp
MODEL_OBJ = pfason~1.obj
MODEL_CSI = pfason~1.csi
MODEL_DIR = C:\acslX\PFOA\PFOAON~1
MODEL_ALT_SRC = pfason~1.f90
TARGET = pfason~1.dll
TARGET_FULL = "PFAS One-compartment.dll"
MODEL_RRR_FULL = "PFAS One-compartment.rrr"


#
# Compiler-specific settings.
#

TRANS = "C:\acslX\atrans.exe"
TRANSFLAGS = -lic_path "C:\acslX\license.lic;C:\acslX\*.lic" -no_xsl -no_compile -no_link "$<"
XSLT = "C:\acslX\AcslXSLT.exe"
XSLTFLAGS = -IN "$<" -OUT "$@" -XSL "C:\acslX\ACSLIL2C.xsl" -TEXT
CPP = "C:\acslX\mingw32\bin\mingw32-gcc.exe"
CPPFLAGS = -c -I "C:\acslX" -o "$@" "$<" 
FORTRAN = "C:\acslX\mingw32\bin\mingw32-gcc.exe"
FORTRANFLAGS = -c -o "$@" "$<" 
LINK = "C:\acslX\mingw32\bin\mingw32-gcc.exe"
LINKFLAGS = -shared -Wl,-dll "C:\acslX\acsltrans.def" -o "$@" "$<"
STDLIBS = "C:\acslX\libacsl.a" -lstdc++ -lg2c

#
# Standard rules
#

.PHONY: default clean all

default: $(TARGET)

all : $(TARGET)

$(MODEL_AIL) : $(MODEL_DIR)\$(MODEL)
	@echo ##### Translating Model (CSL/GMX)...
	C:\acslX\ShSysTime.exe
	$(TRANS) $(TRANSFLAGS)
	move "$(MODEL_DIR)\$(MODEL_XML)" ".\$(MODEL_AIL)"
	move "$(MODEL_DIR)\$(MODEL_CSI)" .

%.cpp: %.ail
	@echo ##### Translating AIL...
	C:\acslX\ShSysTime.exe
	$(XSLT) $(XSLTFLAGS)

%.f90: %.ail
	@echo ##### Translating AIL...
	C:\acslX\ShSysTime.exe
	$(XSLT) $(XSLTFLAGS)

%.obj: %.f
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(FORTRAN) $(FORTRANFLAGS)

%.obj: %.F
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(FORTRAN) $(FORTRANFLAGS)

%.obj: %.for
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(FORTRAN) $(FORTRANFLAGS)

%.obj: %.FOR
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(FORTRAN) $(FORTRANFLAGS)

%.obj: %.f77
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(FORTRAN) $(FORTRANFLAGS)

%.obj: %.F77
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(FORTRAN) $(FORTRANFLAGS)

%.obj: %.f90
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(FORTRAN) $(FORTRANFLAGS)

%.obj: %.F90
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(FORTRAN) $(FORTRANFLAGS)

%.obj: %.cpp
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(CPP) $(CPPFLAGS)

%.obj: %.CPP
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(CPP) $(CPPFLAGS)

%.obj: %.c
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(CPP) $(CPPFLAGS)

%.obj: %.C
	@echo ##### Compiling...
	C:\acslX\ShSysTime.exe
	$(CPP) $(CPPFLAGS)

$(MODEL_SRC) : $(MODEL_AIL)

$(MODEL_OBJ) : $(MODEL_SRC)


#
# Project rules
#

$(TARGET) : $(MODEL_OBJ)
	@echo ##### Linking simulation DLL...
	C:\acslX\ShSysTime.exe
	$(LINK) $(LINKFLAGS)  $(STDLIBS)
	rename $(TARGET) $(TARGET_FULL)
	C:\acslX\ShSysTime.exe

clean :
	del $(TARGET_FULL) "$(MODEL_OBJ)" "$(MODEL_CSI)" "$(MODEL_SRC)" "$(MODEL_ALT_SRC)" "$(MODEL_AIL)" $(MODEL_RRR_FULL) "pfason~1.exp" "pfason~1.lib" "consoleError.log" "consoleStatus.log"
